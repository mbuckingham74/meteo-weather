# ============================================
# Meteo Weather App - Environment Configuration
# ============================================
#
# Quick Setup Guide:
# 1. Copy this file: cp .env.example backend/.env
# 2. Get FREE API keys (see links below)
# 3. Replace "your_key_here" with your actual keys
# 4. Run: docker-compose up
#
# ============================================

# ====================================
# REQUIRED API KEYS (App won't work without these)
# ====================================

# Visual Crossing Weather API
# Purpose: Weather forecasts, historical data, climate statistics
# FREE Tier: 1000 records/day (sufficient for personal use)
# Sign up: https://www.visualcrossing.com/weather-api
# After signup: Account → API Keys → Copy key
VISUAL_CROSSING_API_KEY=your_visual_crossing_key_here

# OpenWeather API
# Purpose: Radar map overlays (precipitation, clouds, temperature)
# FREE Tier: 1000 calls/day
# Sign up: https://openweathermap.org/api
# After signup: API Keys → Copy key (may take 10 minutes to activate)
OPENWEATHER_API_KEY=your_openweather_key_here

# ====================================
# OPTIONAL API KEYS (App works without these)
# ====================================

# Anthropic Claude API (System Default - Optional if users bring their own keys)
# Purpose: AI-powered location finder and weather queries
# Pricing: Pay-as-you-go (~$0.005 per query)
# Sign up: https://console.anthropic.com/
# Note: App fully functional without this - only enables AI features
# Users can bring their own API keys via Admin Panel → API Keys
# METEO_ANTHROPIC_API_KEY=your_claude_key_here

# OpenAI API (System Default - Optional)
# Purpose: Alternative AI provider for weather analysis
# Sign up: https://platform.openai.com/
# OPENAI_API_KEY=your_openai_key_here

# Grok API (xAI) - System Default - Optional
# Purpose: Alternative AI provider
# Sign up: https://x.ai/
# GROK_API_KEY=your_grok_key_here

# Google AI (Gemini) - System Default - Optional
# Purpose: Alternative AI provider
# Sign up: https://makersuite.google.com/
# GOOGLE_AI_API_KEY=your_google_key_here

# Mistral AI - System Default - Optional
# Purpose: Alternative AI provider
# Sign up: https://mistral.ai/
# MISTRAL_API_KEY=your_mistral_key_here

# Cohere - System Default - Optional
# Purpose: Alternative AI provider
# Sign up: https://cohere.ai/
# COHERE_API_KEY=your_cohere_key_here

# API Key Encryption Secret (REQUIRED for user API keys feature)
# Purpose: Encrypts user-provided API keys in database
# Generate with: openssl rand -hex 32
# IMPORTANT: Keep this secret safe! If lost, all user API keys will be unrecoverable
# API_KEY_ENCRYPTION_SECRET=your_64_character_hex_string_here

# ====================================
# DATABASE CONFIGURATION
# ====================================

# MySQL Database Settings (for Docker container)
DB_HOST=mysql                    # Use 'mysql' for Docker, 'localhost' for local dev
DB_PORT=3306                     # MySQL default port
DB_USER=meteo_user              # Database username
DB_PASSWORD=secure_password_123  # CHANGE THIS IN PRODUCTION!
DB_NAME=meteo_app               # Database name
DB_ROOT_PASSWORD=root_password_456  # MySQL root password - CHANGE THIS!

# ====================================
# SERVER CONFIGURATION
# ====================================

PORT=5001                        # Backend API port
NODE_ENV=development             # Environment: development | production

# ====================================
# AUTHENTICATION & SECURITY
# ====================================

# JWT Secret Keys (MUST be random strings in production)
# Generate with: openssl rand -base64 32
JWT_SECRET=change_me_to_random_32_character_string_abc123
JWT_REFRESH_SECRET=change_me_to_another_random_string_xyz789

# Token Expiration Times
JWT_EXPIRES_IN=24h              # Access token lifetime
JWT_REFRESH_EXPIRES_IN=7d       # Refresh token lifetime

# CORS Configuration
# Comma-separated list of allowed origins (no spaces!)
CORS_ALLOWED_ORIGINS=http://localhost:3000,http://localhost:3001
# For production, add: https://meteo-beta.tachyonfuture.com

# Admin Panel Access
# Comma-separated list of admin email addresses (no spaces!)
# Users with these emails will have access to /admin panel
ADMIN_EMAILS=admin@example.com
# For production, add your actual admin email(s)

# ====================================
# FRONTEND ENVIRONMENT VARIABLES
# ====================================
# Note: Vite requires VITE_ prefix for environment variables

# Backend API URL (automatically configured by Docker Compose)
# VITE_API_URL=http://localhost:5001

# OpenWeather API Key (needed for frontend radar map)
# VITE_OPENWEATHER_API_KEY=${OPENWEATHER_API_KEY}

# Admin Panel Access (Frontend - must match backend ADMIN_EMAILS)
# VITE_ADMIN_EMAILS=${ADMIN_EMAILS}

# ====================================
# PRODUCTION NOTES
# ====================================
#
# For production deployment:
# 1. Change ALL passwords and secrets
# 2. Use strong, random strings for JWT secrets
# 3. Set NODE_ENV=production
# 4. Configure CORS_ORIGIN for your domain
# 5. Never commit .env files to git (already in .gitignore)
#
# ====================================
